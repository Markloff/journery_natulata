---
title: Event Emitter
date: 2022/3/17
description: vscode/base/common/event 模块详解
tag: web development
author: marklov
---

# 实现自己的 Event Emitter

<blockquote>
	设想这样的场景，请提供一个通用的 Event Emitter 能力，可以给任意一个 class 组合使用
</blockquote>

使用姿势:

```ts
class QQMusicPlayer {
    private readonly _onPlayStatusChange: Emitter<string> = new Emitter<string>();
    public readonly onPlayStatusChange = this._onPlayStatusChange.event;

    private readonly _audioEL: HTMLAudioElement;

	constructor() {
		this._audioEL = document.createElement('audio');
		this._audioEL.oncanplay = () => {
			this._onPlayStatusChange.fire('canPlay')
		}
	}

}

const player = new QQMusicPlayer();

player.onPlayStatusChange((status: string) => {
    console.log(status)
})
```


## h2 Heading

### h3 Heading

#### h4 Heading

##### h5 Heading

###### h6 Heading

## Emphasis

**This is bold text**

_This is italic text_

~~Strikethrough~~

## Blockquotes

> Develop. Preview. Ship. – Vercel

## Lists

Unordered

- Lorem ipsum dolor sit amet
- Consectetur adipiscing elit
- Integer molestie lorem at massa

Ordered

1. Lorem ipsum dolor sit amet
2. Consectetur adipiscing elit
3. Integer molestie lorem at massa

## Code

Inline `code`


```ts
interface A {

}

class B implements A {

}
```

## Tables

| **Option** | **Description**                                                                                                             |
| ---------- | --------------------------------------------------------------------------------------------------------------------------- |
| First      | Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. |
| Second     | Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. |
| Third      | Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. |

## Links

- [Next.js](https://nextjs.org)
- [Nextra](https://nextra.vercel.app/)
- [Vercel](http://vercel.com)

### Footnotes

- Footnote [^1].
- Footnote [^2].

[^1]: Footnote **can have markup**

    and multiple paragraphs.

[^2]: Footnote text.
